<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!-- Useful for describing APIs -->
<!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
]>
<section xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:db="http://docbook.org/ns/docbook" version="5.0"
    status="final" xml:id="fwaas_ext">
    <title>Firewall as a Service (FWaaS) extension</title>
    <para>The FWaaS extension provides OpenStack users with the
        ability to deploy firewalls to protect their networks. The
        FWaaS extension enables you to:</para>
    <itemizedlist>
        <listitem>
            <para>Apply firewall rules on traffic entering and leaving
                tenant networks.</para>
        </listitem>
        <listitem>
            <para>Support for applying tcp, udp, icmp, or protocol
                agnostic rules.</para>
        </listitem>
        <listitem>
            <para>Creation and sharing of firewall policies which hold
                an ordered collection of the firewall rules.</para>
        </listitem>
        <listitem>
            <para>Audit firewall rules and policies.</para>
        </listitem>
    </itemizedlist>
    <para>This extension introduces these resources:</para>
    <itemizedlist>
        <listitem>
            <para><emphasis role="bold">firewall</emphasis>:
                represents a logical firewall resource that a tenant
                can instantiate and manage. A firewall is associated
                with one firewall_policy.</para>
        </listitem>
        <listitem>
            <para><emphasis role="bold">firewall_policy</emphasis>: is
                an ordered collection of firewall_rules. A
                firewall_policy can be shared across tenants. Thus it
                can also be made part of an audit workflow wherein the
                firewall_policy can be audited by the relevant entity
                that is authorized (and can be different from the
                tenants which create or use the
                firewall_policy).</para>
        </listitem>
        <listitem>
            <para><emphasis role="bold">firewall_rule</emphasis>:
                represents a collection of attributes like ports, ip
                addresses which define match criteria and action
                (allow, or deny) that needs to be taken on the matched
                data traffic.</para>
        </listitem>
    </itemizedlist>
    <section xml:id="fwaas_ext_ops_firewall_rule">
        <title>Firewall rules</title>
        <para>Manage firewall rules.</para>
        <table rules="all">
            <caption>Firewall rule attributes</caption>
            <col width="20%"/>
            <col width="8%"/>
            <col width="10%"/>
            <col width="7%"/>
            <col width="15%"/>
            <col width="15%"/>
            <col width="25%"/>
            <thead>
                <tr>
                    <th>Attribute</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>CRUD <footnote xml:id="fwaas_rule_crud_note">
                            <itemizedlist>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >C</emphasis>. Use the attribute in
                                   create operations.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >R</emphasis>. This attribute is
                                   returned in response to show and
                                   list operations.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >U</emphasis>. You can update the
                                   value of this attribute.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >D</emphasis>. You can delete the
                                   value of this attribute.</para>
                                </listitem>
                            </itemizedlist>
                        </footnote>
                    </th>
                    <th>Default value</th>
                    <th>Validation constraints</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>id</td>
                    <td>uuid-str</td>
                    <td>N/A</td>
                    <td>R</td>
                    <td>generated</td>
                    <td>N/A</td>
                    <td>Unique identifier for the firewall rule
                        object.</td>
                </tr>
                <tr>
                    <td>tenant_id</td>
                    <td>uuid-str</td>
                    <td>Yes</td>
                    <td>CR</td>
                    <td>Derived from Authentication token</td>
                    <td>N/A</td>
                    <td>Owner of the firewall rule. Only admin users
                        can specify a tenant identifier other than
                        their own.</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>Human readable name for the firewall rule (255
                        characters limit). Does not have to be
                        unique.</td>
                </tr>
                <tr>
                    <td>description</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>Human readable description for the firewall
                        Rule (1024 characters limit).</td>
                </tr>
                <tr>
                    <td>firewall_policy_id</td>
                    <td>uuid-str</td>
                    <td>No</td>
                    <td>R</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>This is a read-only attribute which gets
                        populated with the uuid of the firewall policy
                        when this firewall rule is associated with a
                        firewall policy. A firewall rule can be
                        associated with one firewall policy at a time.
                        The association can however be updated to a
                        different firewall policy. This attribute can
                        be "null" if the rule is not associated with
                        any firewall policy. </td>
                </tr>
                <tr>
                    <td>shared</td>
                    <td>Bool</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>false</td>
                    <td>{true | false}</td>
                    <td>When set to True makes this firewall rule
                        visible to tenants other than its owner, and
                        can be used in firewall policies not owned by
                        its tenant.</td>
                </tr>
                <tr>
                    <td>protocol</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>{icmp | tcp | udp | null}</td>
                    <td>IP Protocol</td>
                </tr>
                <tr>
                    <td>ip_version</td>
                    <td>Integer</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>4</td>
                    <td>{4 | 6}</td>
                    <td>IP Protocol Version</td>
                </tr>
                <tr>
                    <td>source_ip_address</td>
                    <td>String (IP address or CIDR)</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>valid IP address (v4 or v6), or CIDR</td>
                    <td>Source IP address or CIDR</td>
                </tr>
                <tr>
                    <td>destination_ip_address</td>
                    <td>String (IP address or CIDR)</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>Valid IP address (v4 or v6), or CIDR</td>
                    <td>Destination IP address or CIDR</td>
                </tr>
                <tr>
                    <td>source_port</td>
                    <td>Integer</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>Valid port number (integer or string), or port
                        range in the format of a ':' separated range).
                        In the case of port range, both ends of the
                        range are included.</td>
                    <td>Source port number or a range</td>
                </tr>
                <tr>
                    <td>destination_port</td>
                    <td>Integer</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>Valid port number (integer or string), or port
                        range in the format of a ':' separated range.
                        In the case of port range, both ends of the
                        range are included.</td>
                    <td>Destination port number or a range</td>
                </tr>
                <tr>
                    <td>position</td>
                    <td>Integer</td>
                    <td>No</td>
                    <td>R</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>This is a read-only attribute that gets
                        assigned to this rule when the rule is
                        associated with a firewall policy. It
                        indicates the position of this rule in that
                        firewall policy. This position number starts
                        at 1. The position can be "null" if the
                        firewall rule is not associated with any
                        policy.</td>
                </tr>
                <tr>
                    <td>action</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>deny</td>
                    <td>{allow | deny}</td>
                    <td>Action to be performed on the traffic matching
                        the rule (allow, deny)</td>
                </tr>
                <tr>
                    <td>enabled</td>
                    <td>Bool</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>true</td>
                    <td>{true | false}</td>
                    <td>When set to False will disable this rule in
                        the firewall policy. Facilitates selectively
                        turning off rules without having to
                        disassociate the rule from the firewall
                        policy</td>
                </tr>
            </tbody>
        </table>
        <section xml:id="fwaas_ext_ops_firewall_rule_list">
            <title>List firewall rules</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&GET; </td>
                        <td>/fw/firewall_rules</td>
                        <td>Lists firewall rules.</td>
                    </tr>
                </tbody>
            </informaltable>
            <simpara>Normal Response Code:
                    <returnvalue>200</returnvalue>
            </simpara>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>).</simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>List firewall rules: JSON request</title>
                <programlisting>GET /v2.0/fw/firewall_rules.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>List firewall rules: JSON response</title>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_rules-list-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_rule_show">
            <title>Show firewall rule details</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&GET; </td>
                        <td>/fw/firewall_rules/<parameter>firewall_rule-id</parameter></td>
                        <td>Shows firewall rule details.</td>
                    </tr>
                </tbody>
            </informaltable>
            <simpara>Normal Response Code:
                    <returnvalue>200</returnvalue>
            </simpara>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Forbidden
                    (<errorcode>403</errorcode>), Not Found
                    (<errorcode>404</errorcode>) </simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>Show firewall rule: JSON request</title>
                <programlisting>GET /v2.0/fw/firewall_rules/9faaf49f-dd89-4e39-a8c6-101839aa49bc.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>Show firewall rule: JSON response</title>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_rule-show-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_rule_create">
            <title>Create firewall rule</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&POST;</td>
                        <td>/fw/firewall_rules</td>
                        <td>Creates a firewall rule.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code: <returnvalue>201</returnvalue>
            </para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Bad Request
                    (<errorcode>400</errorcode>)</simpara>
            <para>This operation requires a request body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>Create firewall rule: JSON request</title>
                <programlisting>POST /v2.0/fw/firewall_rules.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_rule-create-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Create firewall rule: JSON response</title>
                <programlisting>HTTP/1.1 201 Created
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_rule-create-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_rule_update">
            <title>Update firewall rule</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&PUT;</td>
                        <td>/fw/firewall_rules/<parameter>firewall_rule-id</parameter></td>
                        <td>Updates a firewall rule.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code:
                <returnvalue>200</returnvalue></para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Bad Request
                    (<errorcode>400</errorcode>), Not Found
                    (<errorcode>404</errorcode>)</simpara>
            <example>
                <title>Update firewall rule: JSON request</title>
                <programlisting>PUT /v2.0/fw/firewall_rules/41bfef97-af4e-4f6b-a5d3-4678859d2485.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_rule-update-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Update firewall rule: JSON response</title>
                <programlisting>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_rule-update-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_rule_delete">
            <title>Delete firewall rule</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&DELETE;</td>
                        <td>/fw/firewall_rules/<parameter>firewall_rule-id</parameter></td>
                        <td>Deletes a firewall rule.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code: <returnvalue>204</returnvalue>
            </para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Not Found
                    (<errorcode>404</errorcode>), Conflict
                    (<errorcode>409</errorcode>). The Conflict error
                response is returned when an operation is performed
                while the firewall is in a PENDING state.</simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation does not return a response
                body.</para>
            <example>
                <title>Delete firewall rule: JSON request</title>
                <programlisting>DELETE /v2.0/fw/firewall_rules/1be5e5f7-c45e-49ba-85da-156575b60d50.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>Delete firewall rule: JSON response</title>
                <programlisting>HTTP/1.1 204 No Content
Content-Length: 0</programlisting>
            </example>
        </section>

    </section>
    <!-- end of firewall rule section-->

    <?hard-pagebreak?>

    <section xml:id="fwaas_ext_ops_firewall_policy">
        <title>Firewall policies</title>
        <para>Manage firewall policies.</para>
        <table rules="all">
            <caption>Firewall policy attributes</caption>
            <col width="20%"/>
            <col width="8%"/>
            <col width="10%"/>
            <col width="7%"/>
            <col width="15%"/>
            <col width="15%"/>
            <col width="25%"/>
            <thead>
                <tr>
                    <th>Attribute</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>CRUD <footnote xml:id="fwaas_policy_crud_note">
                            <itemizedlist>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >C</emphasis>. Use the attribute in
                                   create operations.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >R</emphasis>. This attribute is
                                   returned in response to show and
                                   list operations.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >U</emphasis>. You can update the
                                   value of this attribute.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >D</emphasis>. You can delete the
                                   value of this attribute.</para>
                                </listitem>
                            </itemizedlist>
                        </footnote>
                    </th>
                    <th>Default value</th>
                    <th>Validation constraints</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>id</td>
                    <td>uuid-str</td>
                    <td>N/A</td>
                    <td>R</td>
                    <td>generated</td>
                    <td>N/A</td>
                    <td>Unique identifier for the firewall policy
                        object.</td>
                </tr>
                <tr>
                    <td>tenant_id</td>
                    <td>uuid-str</td>
                    <td>Yes</td>
                    <td>CR</td>
                    <td>Derived from Authentication token</td>
                    <td>N/A</td>
                    <td>Owner of the firewall policy. Only admin users
                        can specify a tenant identifier other than
                        their own.</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>Human readable name for the firewall policy
                        (255 characters limit). Does not have to be
                        unique.</td>
                </tr>
                <tr>
                    <td>description</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>Human readable description for the firewall
                        policy (1024 characters limit)</td>
                </tr>
                <tr>
                    <td>shared</td>
                    <td>Bool</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>false</td>
                    <td>{true | false}</td>
                    <td>When set to True makes this firewall policy
                        visible to tenants other than its owner.</td>
                </tr>
                <tr>
                    <td>firewall_rules</td>
                    <td>List</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>Empty list</td>
                    <td>JSON list of firewall rule uuids</td>
                    <td>This is an ordered list of firewall rule
                        uuids. The firewall applies the rules in the
                        order in which they appear in this list.</td>
                </tr>
                <tr>
                    <td>audited</td>
                    <td>Bool</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>false</td>
                    <td>{true | false}</td>
                    <td>When set to True by the policy owner indicates
                        that the firewall policy has been audited.
                        This attribute is meant to aid in the firewall
                        policy audit workflows. Each time the firewall
                        policy or the associated firewall rules are
                        changed, this attribute will be set to False
                        and will have to be explicitly set to True
                        through an update operation.</td>
                </tr>
            </tbody>
        </table>

        <section xml:id="fwaas_ext_ops_firewall_policy_list">
            <title>List firewall policies</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&GET; </td>
                        <td>/fw/firewall_policies</td>
                        <td>Lists firewall policies.</td>
                    </tr>
                </tbody>
            </informaltable>
            <simpara>Normal Response Code:
                    <returnvalue>200</returnvalue>
            </simpara>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Forbidden
                    (<errorcode>403</errorcode>) </simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>List firewall policies: JSON request</title>
                <programlisting>GET /v2.0/fw/firewall_policies.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>List firewall policies: JSON response</title>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policies-list-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_policy_show">
            <title>Show firewall policy details</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&GET; </td>
                        <td>/fw/firewall_policies/<parameter>firewall_policy-id</parameter></td>
                        <td>Shows firewall policy details.</td>
                    </tr>
                </tbody>
            </informaltable>
            <simpara>Normal Response Code:
                    <returnvalue>200</returnvalue>
            </simpara>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Not Found
                    (<errorcode>404</errorcode>) </simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>Show firewall policy: JSON request</title>

                <programlisting>GET /v2.0/fw/firewall_policies/9faaf49f-dd89-4e39-a8c6-101839aa49bc.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>Show firewall policy: JSON response</title>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-show-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_policy_create">
            <title>Create firewall policy</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&POST;</td>
                        <td>/fw/firewall_policies</td>
                        <td>Creates a firewall policy.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code: <returnvalue>201</returnvalue>
            </para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>).</simpara>
            <para>This operation requires a request body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>Create firewall policy: JSON request</title>
                <programlisting>POST /v2.0/fw/firewall_policies.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-create-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Create firewall policy: JSON response</title>
                <programlisting>HTTP/1.1 201 Created
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-create-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_policy_update">
            <title>Update firewall policy</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&PUT;</td>
                        <td>/fw/firewall_policies/<parameter>firewall_policy-id</parameter></td>
                        <td>Updates a firewall policy.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code:
                <returnvalue>200</returnvalue></para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Not Found
                    (<errorcode>404</errorcode>)</simpara>
            <example>
                <title>Update firewall policy: JSON request</title>
                <programlisting>PUT /v2.0/fw/firewall_policies/41bfef97-af4e-4f6b-a5d3-4678859d2485.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-update-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Update firewall policy: JSON response</title>
                <programlisting>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-update-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_policy_delete">
            <title>Delete firewall policy</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&DELETE;</td>
                        <td>/fw/firewall_policies/<parameter>firewall_policy-id</parameter></td>
                        <td>Deletes a firewall policy.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code: <returnvalue>204</returnvalue>
            </para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Not Found
                    (<errorcode>404</errorcode>), Conflict
                    (<errorcode>409 </errorcode>). Conflict error code
                is returned the firewall policy is in use.</simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation does not return a response
                body.</para>
            <example>
                <title>Delete firewall policy: JSON request</title>
                <programlisting>DELETE /v2.0/fw/firewall_policies/1be5e5f7-c45e-49ba-85da-156575b60d50.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>Delete firewall policy: JSON response</title>
                <programlisting>HTTP/1.1 204 No Content
Content-Length: 0</programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_policy_insert_rule">
            <title>Insert firewall rule in firewall policy</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&PUT;</td>
                        <td>/fw/firewall_policies/<parameter>firewall_policy-id</parameter>/insert_rule</td>
                        <td>Inserts a firewall rule in a firewall
                            policy relative to the position of other
                            rules.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code:
                <returnvalue>200</returnvalue></para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Bad Request
                    (<errorcode>400</errorcode>), Not Found
                    (<errorcode>404</errorcode>). Bad Request error is
                returned in the case the rule information is
                missing.</simpara>
            <example>
                <title>Insert firewall rule in firewall policy: JSON
                    request</title>
                <programlisting>PUT /v2.0/fw/firewall_policies/41bfef97-af4e-4f6b-a5d3-4678859d2485/insert_rule.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-insert-rule-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Insert firewall rule in firewall policy:
                    Response</title>
                <programlisting>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-insert-rule-res.json" parse="text"/></programlisting>
            </example>
            <para>insert_before and insert_after parameters refer to
                firewall rule uuids already associated with the
                firewall policy. firewall_rule_id refers to uuid of
                the rule being inserted. insert_before takes
                precedence over insert_after and if neither is
                specified, firewall_rule_is inserted at the first
                position.</para>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_policy_remove_rule">
            <title>Remove firewall rule from firewall policy</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&PUT;</td>
                        <td>/fw/firewall_policies/<parameter>firewall_policy-id</parameter>/remove_rule</td>
                        <td>Removes a firewall rule from a firewall
                            policy.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code:
                <returnvalue>200</returnvalue></para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Bad Request
                    (<errorcode>400</errorcode>), Not Found
                    (<errorcode>404</errorcode>). Bad Request error is
                returned if the rule information is missing or when a
                firewall rule is tried to be removed from a firewall
                policy to which it is not associated.</simpara>
            <example>
                <title>Remove firewall rule from firewall policy: JSON
                    request</title>
                <programlisting>PUT /v2.0/fw/firewall_policies/41bfef97-af4e-4f6b-a5d3-4678859d2485/remove_rule.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-remove-rule-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Remove firewall rule from firewall policy: JSON
                    response</title>
                <programlisting>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall_policy-remove-rule-res.json" parse="text"/></programlisting>
            </example>
        </section>
    </section>
    <!-- end of firewall policy section-->
    <section xml:id="fwaas_ext_ops_firewall">
        <title>Firewalls</title>
        <para>Manage firewalls.</para>
        <table rules="all">
            <caption>Firewall attributes</caption>
            <col width="20%"/>
            <col width="8%"/>
            <col width="10%"/>
            <col width="7%"/>
            <col width="15%"/>
            <col width="15%"/>
            <col width="25%"/>
            <thead>
                <tr>
                    <th>Attribute</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>CRUD<footnote
                            xml:id="fwaas_firewall_crud_note">
                            <itemizedlist>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >C</emphasis>. Use the attribute in
                                   create operations.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >R</emphasis>. This attribute is
                                   returned in response to show and
                                   list operations.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >U</emphasis>. You can update the
                                   value of this attribute.</para>
                                </listitem>
                                <listitem>
                                   <para><emphasis role="bold"
                                   >D</emphasis>. You can delete the
                                   value of this attribute.</para>
                                </listitem>
                            </itemizedlist>
                        </footnote>
                    </th>
                    <th>Default value</th>
                    <th>Validation constraints</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>id</td>
                    <td>uuid-str</td>
                    <td>N/A</td>
                    <td>R</td>
                    <td>generated</td>
                    <td>N/A</td>
                    <td>Unique identifier for the firewall
                        object.</td>
                </tr>
                <tr>
                    <td>tenant_id</td>
                    <td>uuid-str</td>
                    <td>Yes</td>
                    <td>CR</td>
                    <td>Derived from Authentication token</td>
                    <td>N/A</td>
                    <td>Owner of the firewall. Only admin users can
                        specify a tenant identifier other than their
                        own.</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>Human readable name for the firewall (255
                        characters limit). Does not have to be
                        unique.</td>
                </tr>
                <tr>
                    <td>description</td>
                    <td>String</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>N/A</td>
                    <td>Human readable description for the firewall
                        (1024 characters limit)</td>
                </tr>
                <tr>
                    <td>admin_state_up</td>
                    <td>Bool</td>
                    <td>N/A</td>
                    <td>CRU</td>
                    <td>true</td>
                    <td>{true | false }</td>
                    <td>Administrative state of the firewall. If false
                        (down), firewall does not forward packets and
                        will drop all traffic to/from VMs behind the
                        firewall.</td>
                </tr>
                <tr>
                    <td>status</td>
                    <td>String</td>
                    <td>N/A</td>
                    <td>R</td>
                    <td>N/A</td>
                    <td>N/A</td>
                    <td>Indicates whether firewall resource is
                        currently operational. Possible values
                        include: ACTIVE, DOWN, BUILD, ERROR,
                        PENDING_CREATE, PENDING_UPDATE, or
                        PENDING_DELETE.</td>
                </tr>
                <tr>
                    <td>shared</td>
                    <td>Bool</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>false</td>
                    <td>{true | false}</td>
                    <td>When set to True makes this firewall rule
                        visible to tenants other than its owner, and
                        can be used in firewall policies not owned by
                        its tenant.</td>
                </tr>
                <tr>
                    <td>firewall_policy_id</td>
                    <td>uuid-str</td>
                    <td>No</td>
                    <td>CRU</td>
                    <td>None</td>
                    <td>valid firewall policy uuid</td>
                    <td>The firewall policy uuid that this firewall is
                        associated with. This firewall will implement
                        the rules contained in the firewall policy
                        represented by this uuid.</td>
                </tr>
            </tbody>
        </table>
        <section xml:id="fwaas_ext_ops_firewall_list">
            <title>List firewalls</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&GET; </td>
                        <td>/fw/firewalls</td>
                        <td>Lists firewalls.</td>
                    </tr>
                </tbody>
            </informaltable>
            <simpara>Normal Response Code:
                    <returnvalue>200</returnvalue>
            </simpara>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>)</simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>List firewalls: JSON request</title>
                <programlisting>GET /v2.0/fw/firewalls.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>List firewalls: JSON response</title>
                <programlisting language="json"><xi:include href="samples/firewall/firewalls-list-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_show">
            <title>Show firewall details</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&GET; </td>
                        <td>/fw/firewalls/<parameter>firewall-id</parameter></td>
                        <td>Shows firewall details.</td>
                    </tr>
                </tbody>
            </informaltable>
            <simpara>Normal Response Code:
                    <returnvalue>200</returnvalue>
            </simpara>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Forbidden
                    (<errorcode>403</errorcode>), Not Found
                    (<errorcode>404</errorcode>) </simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>Show firewall: JSON request</title>

                <programlisting>GET /v2.0/fw/firewalls/9faaf49f-dd89-4e39-a8c6-101839aa49bc.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>Show firewall: JSON response</title>
                <programlisting language="json"><xi:include href="samples/firewall/firewall-show-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_create">
            <title>Create firewall</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&POST;</td>
                        <td>/fw/firewalls</td>
                        <td>Creates a firewall.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code: <returnvalue>201</returnvalue>
            </para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Bad Request
                    (<errorcode>400</errorcode>)</simpara>
            <para>This operation requires a request body.</para>
            <para>This operation returns a response body.</para>
            <example>
                <title>Create firewall: JSON request</title>
                <programlisting>POST /v2.0/fw/firewalls.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall-create-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Create firewall: JSON response</title>
                <programlisting>HTTP/1.1 201 Created
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall-create-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_update">
            <title>Update firewall</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&PUT;</td>
                        <td>/fw/firewalls/<parameter>firewall-id</parameter></td>
                        <td>Updates a firewall, provided status is not
                                <literal>PENDING_*</literal>.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code:
                <returnvalue>200</returnvalue></para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Bad Request
                    (<errorcode>400</errorcode>), Not Found
                    (<errorcode>404</errorcode>)</simpara>
            <example>
                <title>Update firewall: JSON request</title>
                <programlisting>PUT /v2.0/fw/firewalls/41bfef97-af4e-4f6b-a5d3-4678859d2485.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall-update-req.json" parse="text"/></programlisting>
            </example>
            <example>
                <title>Update firewall: JSON response</title>
                <programlisting>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8</programlisting>
                <programlisting language="json"><xi:include href="samples/firewall/firewall-update-res.json" parse="text"/></programlisting>
            </example>
        </section>
        <section xml:id="fwaas_ext_ops_firewall_delete">
            <title>Delete firewall</title>
            <informaltable rules="all" width="100%">
                <col width="20%"/>
                <col width="20%"/>
                <col width="60%"/>
                <thead>
                    <tr>
                        <td>Verb</td>
                        <td>URI</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&DELETE;</td>
                        <td>/fw/firewalls/<parameter>firewall-id</parameter></td>
                        <td>Deletes a firewall.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>Normal Response Code: <returnvalue>204</returnvalue>
            </para>
            <simpara>Error Response Codes: Unauthorized
                    (<errorcode>401</errorcode>), Not Found
                    (<errorcode>404</errorcode>)</simpara>
            <para>This operation does not require a request
                body.</para>
            <para>This operation does not return a response
                body.</para>
            <example>
                <title>Delete firewall: JSON request</title>
                <programlisting>DELETE /v2.0/fw/firewalls/1be5e5f7-c45e-49ba-85da-156575b60d50.json
User-Agent: python-neutronclient
Accept: application/json</programlisting>
            </example>
            <example>
                <title>Delete firewall: JSON response</title>
                <programlisting>HTTP/1.1 204 No Content
Content-Length: 0</programlisting>
            </example>
        </section>
    </section>
</section>
